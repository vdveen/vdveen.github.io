<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Morning Routine Calculator</title>
    <style>
        :root {
            --base03: #002b36;
            --base02: #073642;
            --base01: #586e75;
            --base0: #839496;
            --base1: #93a1a1;
            --yellow: #b58900;
            --orange: #cb4b16;
            --blue: #268bd2;
            --cyan: #2aa198;
            --green: #859900;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Menlo', 'Consolas', 'Monaco', monospace;
            background: var(--base03);
            min-height: 100vh;
            padding: 12px;
            color: var(--base0);
        }

        .container {
            max-width: 480px;
            margin: 0 auto;
        }

        h1 {
            font-size: 1.1rem;
            text-align: center;
            margin-bottom: 12px;
            color: var(--yellow);
            font-weight: normal;
        }

        .section {
            background: var(--base02);
            border-radius: 6px;
            padding: 8px 10px;
            margin-bottom: 6px;
            border-left: 3px solid var(--base01);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section.arrival-section {
            border-left-color: var(--yellow);
        }

        .section-label {
            font-size: 0.65rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            color: var(--base01);
            min-width: 70px;
            flex-shrink: 0;
        }

        .section.arrival-section .section-label {
            color: var(--yellow);
        }

        .picker-row {
            display: flex;
            gap: 4px;
            flex: 1;
        }

        .picker-btn {
            flex: 1;
            padding: 6px 2px;
            border: 1px solid var(--base01);
            background: var(--base03);
            color: var(--base0);
            border-radius: 4px;
            font-size: 0.7rem;
            font-family: inherit;
            cursor: pointer;
            transition: all 0.15s;
            text-align: center;
        }

        .picker-btn:hover {
            border-color: var(--base0);
            background: var(--base02);
        }

        .picker-btn.active {
            background: var(--blue);
            border-color: var(--blue);
            color: var(--base03);
            font-weight: 600;
        }

        .picker-btn small {
            display: block;
            font-size: 0.55rem;
            opacity: 0.8;
            margin-top: 1px;
        }

        select {
            flex: 1;
            padding: 6px 8px;
            border: 1px solid var(--yellow);
            background: var(--base03);
            color: var(--yellow);
            border-radius: 4px;
            font-size: 0.9rem;
            font-family: inherit;
            cursor: pointer;
            font-weight: 600;
        }

        select:focus {
            outline: none;
            border-color: var(--yellow);
            box-shadow: 0 0 0 1px var(--yellow);
        }

        select option {
            background: var(--base02);
            color: var(--base0);
        }

        .schedule {
            background: var(--base02);
            border: 1px solid var(--cyan);
            border-radius: 6px;
            padding: 10px;
            margin-top: 10px;
        }

        .schedule-title {
            font-size: 0.65rem;
            color: var(--cyan);
            margin-bottom: 8px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .schedule-item {
            display: flex;
            align-items: center;
            padding: 5px 0;
            border-bottom: 1px solid var(--base03);
        }

        .schedule-item:last-child {
            border-bottom: none;
        }

        .schedule-time {
            font-size: 0.9rem;
            font-weight: 700;
            width: 50px;
            color: var(--base1);
        }

        .schedule-activity {
            font-size: 0.75rem;
            color: var(--base0);
            flex: 1;
        }

        .schedule-duration {
            font-size: 0.6rem;
            color: var(--base01);
            background: var(--base03);
            padding: 2px 6px;
            border-radius: 8px;
            border: 1px solid var(--base01);
        }

        .alarm-highlight {
            background: var(--base03);
            margin: -5px -10px 5px -10px;
            padding: 8px 10px;
            border-radius: 5px 5px 0 0;
            border-bottom: 1px solid var(--yellow);
        }

        .alarm-highlight .schedule-time {
            color: var(--yellow);
            font-size: 1.1rem;
        }

        .alarm-highlight .schedule-activity {
            color: var(--yellow);
        }

        .schedule-item.skipped .schedule-activity,
        .schedule-item.skipped .schedule-time {
            color: var(--base01);
            text-decoration: line-through;
            opacity: 0.5;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>// Morning Routine</h1>

        <div class="section">
            <div class="section-label">Buffer</div>
            <div class="picker-row">
                <button class="picker-btn" data-group="buffer" data-value="tight">Tight<small>1h04m</small></button>
                <button class="picker-btn active" data-group="buffer" data-value="relaxed">Relaxed<small>1h19m</small></button>
            </div>
        </div>

        <div class="section">
            <div class="section-label">Travel</div>
            <div class="picker-row">
                <button class="picker-btn active" data-group="travel" data-value="bicycle">Bike<small>28m</small></button>
                <button class="picker-btn" data-group="travel" data-value="bus">Bus<small>35m</small></button>
                <button class="picker-btn" data-group="travel" data-value="earlybus">Early<small>45m</small></button>
            </div>
        </div>

        <div class="section">
            <div class="section-label">Breakfast</div>
            <div class="picker-row">
                <button class="picker-btn" data-group="breakfast" data-value="quick">Quick<small>25m</small></button>
                <button class="picker-btn active" data-group="breakfast" data-value="relaxed">Relaxed<small>35m</small></button>
            </div>
        </div>

        <div class="section">
            <div class="section-label">Shower</div>
            <div class="picker-row">
                <button class="picker-btn active" data-group="shower" data-value="none">None<small>0m</small></button>
                <button class="picker-btn" data-group="shower" data-value="quick">Quick<small>17m</small></button>
                <button class="picker-btn" data-group="shower" data-value="normal">Normal<small>22m</small></button>
            </div>
        </div>

        <div class="section">
            <div class="section-label">Meditate</div>
            <div class="picker-row">
                <button class="picker-btn" data-group="meditation" data-value="long">Long<small>35m</small></button>
                <button class="picker-btn active" data-group="meditation" data-value="medium">Medium<small>25m</small></button>
                <button class="picker-btn" data-group="meditation" data-value="short">Short<small>20m</small></button>
            </div>
        </div>

        <div class="section arrival-section">
            <div class="section-label">Arrive @</div>
            <select id="arrivalTime">
                <option value="510">08:30</option>
                <option value="540">09:00</option>
                <option value="570">09:30</option>
                <option value="600" selected>10:00</option>
                <option value="630">10:30</option>
                <option value="660">11:00</option>
                <option value="690">11:30</option>
                <option value="720">12:00</option>
                <option value="750">12:30</option>
                <option value="780">13:00</option>
            </select>
        </div>

        <div class="schedule">
            <div class="schedule-title">Â» Schedule</div>
            <div id="scheduleOutput"></div>
        </div>
    </div>

    <script>
        var BUFFER_TIGHT = 64;
        var BUFFER_RELAXED = 79;
        var TRAVEL_BICYCLE = 28;
        var TRAVEL_BUS = 35;
        var TRAVEL_EARLY_BUS = 45;
        var BREAKFAST_QUICK = 25;
        var BREAKFAST_RELAXED = 35;
        var SHOWER_NONE = 0;
        var SHOWER_QUICK = 17;
        var SHOWER_NORMAL = 22;
        var MEDITATION_LONG = 35;
        var MEDITATION_MEDIUM = 25;
        var MEDITATION_SHORT = 20;
        var WAKE_UP_BUFFER = 7;

        var state = {
            arrival: 600,
            buffer: 'relaxed',
            travel: 'bicycle',
            breakfast: 'relaxed',
            shower: 'none',
            meditation: 'medium'
        };

        function formatTime(minutes) {
            var h = Math.floor(minutes / 60);
            var m = minutes % 60;
            return (h < 10 ? '0' : '') + h + ':' + (m < 10 ? '0' : '') + m;
        }

        function getBufferMinutes() {
            return state.buffer === 'tight' ? BUFFER_TIGHT : BUFFER_RELAXED;
        }

        function getTravelMinutes() {
            if (state.travel === 'bicycle') return TRAVEL_BICYCLE;
            if (state.travel === 'bus') return TRAVEL_BUS;
            if (state.travel === 'earlybus') return TRAVEL_EARLY_BUS;
            return TRAVEL_BICYCLE;
        }

        function getBreakfastMinutes() {
            return state.breakfast === 'quick' ? BREAKFAST_QUICK : BREAKFAST_RELAXED;
        }

        function getShowerMinutes() {
            if (state.shower === 'none') return SHOWER_NONE;
            if (state.shower === 'quick') return SHOWER_QUICK;
            if (state.shower === 'normal') return SHOWER_NORMAL;
            return SHOWER_NONE;
        }

        function getMeditationMinutes() {
            if (state.meditation === 'long') return MEDITATION_LONG;
            if (state.meditation === 'medium') return MEDITATION_MEDIUM;
            if (state.meditation === 'short') return MEDITATION_SHORT;
            return MEDITATION_MEDIUM;
        }

        function getTravelLabel() {
            if (state.travel === 'bicycle') return 'ðŸš² Cycle to station';
            if (state.travel === 'bus') return 'ðŸšŒ Bus to station';
            if (state.travel === 'earlybus') return 'ðŸšŒ Early bus';
            return 'Travel';
        }

        function getShowerLabel() {
            if (state.shower === 'none') return 'Shower (skipped)';
            if (state.shower === 'quick') return 'ðŸš¿ Quick shower';
            if (state.shower === 'normal') return 'ðŸš¿ Shower';
            return 'Shower';
        }

        function calculate() {
            var arrival = state.arrival;
            var trainDeparture = arrival - getBufferMinutes();
            var leaveHome = trainDeparture - getTravelMinutes();
            var startBreakfast = leaveHome - getBreakfastMinutes();
            var startShower = startBreakfast - getShowerMinutes();
            var startMeditation = startShower - getMeditationMinutes();
            var alarmTime = startMeditation - WAKE_UP_BUFFER;

            var showerMinutes = getShowerMinutes();
            var showerSkipped = showerMinutes === 0;

            var schedule = [
                { time: alarmTime, activity: 'â° Alarm', duration: WAKE_UP_BUFFER + 'm', highlight: true, skipped: false },
                { time: startMeditation, activity: 'ðŸ§˜ Meditation', duration: getMeditationMinutes() + 'm', highlight: false, skipped: false },
                { time: startShower, activity: getShowerLabel(), duration: showerSkipped ? '-' : showerMinutes + 'm', highlight: false, skipped: showerSkipped },
                { time: startBreakfast, activity: 'ðŸ¥ž Breakfast', duration: getBreakfastMinutes() + 'm', highlight: false, skipped: false },
                { time: leaveHome, activity: getTravelLabel(), duration: getTravelMinutes() + 'm', highlight: false, skipped: false },
                { time: trainDeparture, activity: 'ðŸš‚ Train departs', duration: getBufferMinutes() + 'm', highlight: false, skipped: false },
                { time: arrival, activity: 'ðŸ¢ Arrive at work', duration: '', highlight: false, skipped: false }
            ];

            var output = document.getElementById('scheduleOutput');
            var html = '';
            for (var i = 0; i < schedule.length; i++) {
                var item = schedule[i];
                var classes = 'schedule-item';
                if (item.highlight) classes += ' alarm-highlight';
                if (item.skipped) classes += ' skipped';
                
                html += '<div class="' + classes + '">';
                html += '<div class="schedule-time">' + formatTime(item.time) + '</div>';
                html += '<div class="schedule-activity">' + item.activity + '</div>';
                if (item.duration) {
                    html += '<div class="schedule-duration">' + item.duration + '</div>';
                }
                html += '</div>';
            }
            output.innerHTML = html;
        }

        document.getElementById('arrivalTime').addEventListener('change', function(e) {
            state.arrival = parseInt(e.target.value);
            calculate();
        });

        var buttons = document.querySelectorAll('.picker-btn');
        for (var i = 0; i < buttons.length; i++) {
            buttons[i].addEventListener('click', function() {
                var group = this.getAttribute('data-group');
                var value = this.getAttribute('data-value');
                
                var groupButtons = document.querySelectorAll('[data-group="' + group + '"]');
                for (var j = 0; j < groupButtons.length; j++) {
                    groupButtons[j].classList.remove('active');
                }
                this.classList.add('active');
                state[group] = value;
                calculate();
            });
        }

        calculate();
    </script>
</body>
</html>